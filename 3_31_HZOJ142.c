/*************************************************************************
	> 题目描述:
	 质数：除了 1 和它本身，没有其他因数。
	 回文数：正着看和反着看完全一样的数，如 12321,59595。
	 给定两个五位正整数 a,b，找出这两个数之间（含）所有既是质数又是回文数的数。

	> 输入 :
	​ 输入两个五位正整数 a,b。（10000≤a,b≤99999）

	> 输出 :
​	输出一行，为从 a 到 b 之间所有的质数回文数，两个数字之间用空格隔开，最后一个数后没有空格。

    代码运行机制和工作流程：
    1. 变量声明和输入：声明整型变量 a、b 和 c，并使用 scanf 函数从标准输入读取两个整数 a 和 b。
    2. 外层循环：遍历从 a 到 b 范围内的每个整数。
    3. 内层循环：检查当前数 i 是否为素数。
        使用 flag 标记 i 是否为素数。
        如果 i 能被 j 整除，则 flag 置为 0，表示 i 不是素数。
    4. 跳过非素数：如果 flag 为 0，跳过当前数。
    5. 检查回文数：反转当前数 i，检查是否为回文数。
        使用 while 循环反转 i 并存储在 y 中。
        如果 y 不等于 i，跳过当前数。
    6. 输出回文素数：如果当前数 i 是素数且为回文数，输出该数。
        如果 c 不为 0，表示之前已经输出过数，在输出当前数之前打印一个空格。
        输出当前数，并将 c 增加输出的字符数。
    7. 换行：在所有数检查完毕后打印换行符。
    8. 程序结束：返回 0，表示程序正常结束。
 ************************************************************************/

#define _CRT_SECURE_NO_WARNINGS

#include <stdio.h>

int main() {
    int a, b, c = 0;
    scanf("%d%d", &a, &b);
    for (int i = a; i <= b; i++) { // 使用 for 循环遍历从 a 到 b 范围内的每个整数。
        int flag = 1; //声明并初始化一个整型变量 flag 为 1，用于标记当前数是否为素数。
        for (int j = 2; j * j <= i && flag; j++) { //使用 for 循环检查当前数 i 是否为素数。
            if (i % j) continue; //如果 i 不能被 j 整除，则继续下一次循环(下一条代码将不会被执行）
            flag = 0; // 如果 i 能被 j 整除，则将 flag 置为 0，表示 i 不是素数。
        }
        if (flag == 0) continue; //如果 flag 为 0，表示 i 不是素数，跳过当前循环，继续下一个数的检查。
        int x = i, y = 0;
        while (x) { //使用 while 循环将 x 反转并存储在 y 中。
            y = y * 10 + x % 10; // 将 x 的最低位添加到 y 的末尾。
            x /= 10; // 将 x 除以 10，去掉最低位。
        }
        if (y != i) continue; // 如果 y 不等于 i，表示 i 不是回文数，跳过当前循环，继续下一个数的检查。
        if (c) printf(" "); // 如果 c 不为 0，表示之前已经输出过数，在输出当前数之前打印一个空格。
        c += printf("%d", i); // 出当前的回文素数 i，并将 c 增加输出的字符数。
    }
    printf("\n");
    return 0;
}
